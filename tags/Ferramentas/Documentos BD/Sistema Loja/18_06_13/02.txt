Create table USUARIO (
ID_USUARIO INTEGER NOT NULL PRIMARY key,
LOGIN varchar (20) NOT null,
SENHA VARCHAR (4) NOT NULL,
ID_FUNCIONARIO INTEGER NOT null
);

commit work;


-------------------


CREATE GENERATOR GEN_USUARIO_PK;
SET TERM ^;
CREATE TRIGGER TRI_USUARIO_PK FOR USUARIO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.ID_USUARIO = 0) then
     new.ID_USUARIO=gen_id(GEN_USUARIO_PK,1);
end
 ^
COMMIT WORK ^
SET TERM ;^


-------------------


COMMIT WORK;

ALTER TABLE "USUARIO" ADD CONSTRAINT "FK_USUARIO_FUNCIONARIO" FOREIGN KEY ("ID_FUNCIONARIO") REFERENCES FUNCIONARIO ("ID_FUNCIONARIO") ON UPDATE CASCADE ON DELETE CASCADE;


COMMIT WORK;


-------------------